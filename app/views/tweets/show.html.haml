%main.IndexShow
  %section.TweetField
    %article.PostedItem
      .ArticleHeader
        %h2
          @
          = @tweet.user.nickname
        %ul.More
          %li 
            = icon('fas', 'bars')
            %ul
              %li
                = link_to '詳細', tweet_path(@tweet.id), method: :get
              - if user_signed_in? && current_user.id == @tweet.user_id
                %li
                  = link_to '編集', edit_tweet_path(@tweet.id), method: :get
                %li
                  = link_to '削除', tweet_path(@tweet.id), method: :delete
      .Picture
        .content_post{style: "background-image: url(#{@tweet.image})"}
      .ReactionBtn
        - if current_user.already_liked?(@tweet)
          = button_to tweet_like_path(@tweet), id: "tweet_like_destroy", method: :delete, remote: true do
            = icon('fas', 'star', class: 'ReactionBtn__good')
        - else
          = button_to tweet_likes_path(@tweet), id: "tweet_like_create", method: :post, remote: true do
            = icon('far', 'star', class: 'ReactionBtn__good')
        %h3
          LIKE：
          = @tweet.likes.count
      .Details 
        = @tweet.text
        - @tweet.tags.each do |tag|
          %span #
          = tag.tag_name
    .Comments
      .Addcomment
        - if current_user
          .commentblock
            = form_with(model: [@tweet, @comment], local: true, id: "new_comment") do |form|
              = form.text_area :text, placeholder: "コメントを追加", rows: "2", class: "textbox"
              = form.submit "SEND", class: "commentSubmit"
        - else
          %strong
            %p ※※※ コメントの投稿には新規登録/ログインが必要です ※※※
      .ReplyArea
        .CommentDisplay
          - if @comments
            - @comments.each do |comment|
              .CommentDisplay--individual
                %span
                  %strong
                    @
                    = link_to comment.user.nickname, "/users/#{comment.user_id}"
                    ：
                = comment.text
                
